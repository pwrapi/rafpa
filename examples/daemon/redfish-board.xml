<?xml version="1.0"?>

<System>

<Plugins>
    <plugin name="redfish_plugin" lib="libpwr_redfishdev"/>
</Plugins>

<Devices>
    <device name="ilo-docker1" plugin="redfish_plugin" initString="ilo4:localhost:8080:docker1"/>
    <device name="ilo-docker2" plugin="redfish_plugin" initString="ilo4:localhost:8080:docker2"/>
</Devices>

<Locations>
    <location name="daemon-cab0" type="rpc" config="localhost:15000" />
</Locations>


<Objects>

<obj name="plat" type="Platform">

    <attributes>
        <attr name="POWER" op="AVG">
            <src type="child" name="cab0" />
        </attr>
    </attributes>

    <children>
        <child name="cab0" />
    </children>

</obj>

<obj name="plat.cab0" type="Cabinet" >

    <attributes>
        <attr name="POWER" op="AVG" >
            <src type="child" name="chassis1" />
            <src type="child" name="chassis2" />
        </attr>
    </attributes>

    <children>
        <child name="chassis1" />
        <child name="chassis2" />		
    </children>

</obj >

<obj name="plat.cab0.chassis1" type="Chassis" location="daemon-cab0" >

    <attributes>
        <attr name="POWER" op="AVG" >
            <src type="child" name="docker1" />
		</attr>
    </attributes>

    <children>
        <child name="docker1" />
    </children>

</obj >


<obj name="plat.cab0.chassis1.docker1" type="Node" location="daemon-cab0" >

    <devices>
        <dev name="system_pow_dev" device="ilo-docker1" openString="chassis#1.docker#1" /> 
    </devices>

    <attributes>
        <attr name="POWER" op="AVG"  >
            <src type="device" name="system_pow_dev" />
        </attr>
    </attributes>

</obj >
<obj name="plat.cab0.chassis2" type="Chassis" >

    <attributes>
        <attr name="POWER" op="AVG" >
            <src type="child" name="docker2" />
		</attr>
    </attributes>

    <children>
        <child name="docker2" />
    </children>

</obj >


<obj name="plat.cab0.chassis2.docker2" type="Node">

    <devices>
        <dev name="system_pow_dev" device="ilo-docker2" openString="chassis#1.docker#2" /> 
    </devices>

    <attributes>
        <attr name="POWER" op="AVG"  >
            <src type="device" name="system_pow_dev" />
        </attr>
    </attributes>

</obj >

</Objects>
</System>
